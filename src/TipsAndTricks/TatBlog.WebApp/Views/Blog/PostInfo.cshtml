@model Post

@{
    IList<Comment> comments = ViewBag.Comments;

    var imagePost = string.IsNullOrWhiteSpace(Model.ImageUrl)
        ? "/images/nopicture.png"
        : $"/{Model.ImageUrl}";

    var imageAuthor = string.IsNullOrWhiteSpace(Model.ImageUrl)
    ? "/images/icon_author.png"
    : $"/{Model.Author.ImageUrl}";

    ViewData["PageTitle"] = "Bài viết";
}

<div class="container">
    <div class="row">
        <h1>@Model.Title</h1>
        <p class="lead">
            <span>
                <i class="fa fa-user-circle"></i>
                <small class="text-secondary">
                    Tác giả:
                </small>
                <a asp-area="" 
                asp-controller="Blog"
                   asp-action="Author"
                   asp-route-slug="@Model.Author.UrlSlug"
                   class="text-decoration-none text-info fw-semibold">
                    @Model.Author.FullName
                </a>
            </span>
            &emsp;
            <span>
                <i class="fa fa-brands fa-paperclip"></i>
                <small class="text-secondary">
                    Chủ đề:
                </small>
                <a asp-area="" 
                asp-controller="Blog"
                   asp-action="Category"
                   asp-route-slug="@Model.Category.UrlSlug"
                   class="text-decoration-none text-info fw-semibold">
                    @Model.Category.Name
                </a>
            </span>
            &emsp;
            <span>
                <i class="fa fa-solid fa-eye"></i>
                <small class="text-secondary">
                    Lượt xem:
                </small>
                <span class="text-info fw-semibold">
                    @Model.ViewCount
                </span>
            </span>
        </p>
        <hr />
        <p class="lead">
            <i class="fa fa-calendar"> </i>
            @if (Model.ModifiedDate != null)
            {
                <small class="text-muted">
                    Lần cập nhật mới đây:
                </small>
                @Model.ModifiedDate.ToString()
            }
            else
            {
                <small class="text-muted">
                    Bài viết được đăng vào lúc:
                </small>
                @Model.PostedDate.ToString("dd/MM/yyyy")
            }
        </p>
        <p class="lead">
            <i class="fa fa-tags"></i>
            <span class="text-muted">Tags:&emsp;</span>
            @if(Model.Tags.Count > 0)
            {
                    <partial name="_TagList" model="@Model.Tags"> </partial>
            }
            else
            {
                <p>Bài viết không có thẻ nào</p>
            }
        </p>
        <hr />
        <p class="lead">@Model.ShortDescription</p>
        <img src="@imagePost" style="height:500px; width: 1000px;"></img>
        <p class="lead">@Model.Description</p>

        @*Comment*@
        <form class="justify-content-center my-5">
            <div class="col-lg-12">
                <h4 class="comment-title">Nhập bình luận của bạn</h4>
                <div class="row">
                    <div class="col-lg-6 mb-3">
                        <label for="comment-name">Họ và tên</label>
                        <input type="text" class="form-control" id="comment-name" placeholder="Nhập tên (VD: Tien)...">
                    </div>
                    <div class="col-lg-6 mb-3">
                        <label for="comment-email">Email</label>
                        <input type="email" class="form-control" id="comment-email" placeholder="Nhập email (VD:tiennguyenn002@gmail.com)...">
                    </div>
                    <div class="col-12 mb-3">
                        <label for="comment-message">Nội dung</label>

                        <textarea class="form-control" id="comment-message" placeholder="Ví dụ: Tôi nghĩ bài viết này ..." cols="30" rows="5"></textarea>
                    </div>
                    <div class="d-flex col-12 justify-content-end">
                        <input type="submit" class="btn btn-primary text-end" value="Gửi bình luận">
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>